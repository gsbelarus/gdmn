# Основные правила по работе с гитом из командной строки

1. Работоспособные и проверенные исходники находятся в ветке **master**.
2. Мы ведем текущую работу в отдельных ветках (feature-branch). После того как изменения сделаны в выделенной ветке, закомичены
и отправлены на сервер создается **Pull request**.
3. **Pull request** рассматривается и при отсутствии замечаний сливается (merge) в основную ветку.
4. При наличии замечаний, разработчик устраняет их, комитит и отправляет на сервер. Они будут прибавлены к открытому **Pull request** автоматически. Этот процесс может повторяться неограниченное число раз.
5. После слияния **Pull request** отдельная ветка удаляется, а разработчик переходит на ветку **master** или на новую ветку для следующего задания.

## Создать новую локальную ветку для работы и переключиться на неё

```
git checkout -b <branch_name>
```

## Уже были сделаны некоторые изменения. Надо создать новую ветку и перенести изменения в неё

```
git stash
git checkout -b <branch_name>
git stash pop
```

## Посмотреть, какие изменения сделаны и нуждаются в комите

```
git status
```

## Закомитить изменения

```
git commit -a -m "Commit message"
```

Новые файлы должны быть добавлены предварительно командой:

```
git add
```

## Опубликовать новую локальную ветку на сервере

```
git push -u origin <branch_name>
```

## Записать на сервер комиты из локальной ветки

Ветка должна быть предварительно опубликована.

```
git push 
```

## Посмотреть список локальных веток

```
git branch
```

На экран будет выведен список веток. Активная будет помечена звездочкой.

## Переключиться на ветку

```
git checkout <branch name>
```

## Снять и применить изменения с сервера в текущую ветку

```
git pull
```

## Перенести изменения из одной ветки в другую

Например, мы работаем в ветке **my_branch**. На сервере появились изменения в ветке **master**. Надо снять их и перенести в ветку **my_branch**.

Сначала сохраняем текущие изменения:

```
git commit -a -m "Some message"
```

или

```
git stash
```

Переключаемся на **master**, снимаем изменения с сервера, переключаемся на нашу ветку и применяем их:

```
git checkout master
git pull
git checkout my_branch
git merge master
```

Если текущие изменения сохраняли командой `git stash`, то восстанавливаем их:

```
git stash pop
```

При возникновении конфликтов, разрешаем их.

## Чистка (удаление) локальных веток, которые больше не связаны с ветками на сервере

Как правило, это ветки из **Pull request**, коорые были успешно слиты с веткой **master** и затем удалены.

```
git fetch --prune
```
